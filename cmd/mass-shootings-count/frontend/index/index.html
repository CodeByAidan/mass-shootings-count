<!DOCTYPE html>
{{ template "styles" }}

{{ if .Refresh }}
<meta http-equiv="refresh" content="{{ .Refresh }}">
{{ end }}

<title>{{ .Days }} {{ Plural .Days "day" "days" }} since last mass shooting</title>
<meta property="og:type" content="website" />
<meta property="og:title" content="It has been {{ .Days }} {{ Plural .Days "day" "days" }} since the last mass shooting." />

<main>
	<section id="days-since">
		<div class="sign">
			<p class="top">It has been</p>
			<p class="mid">
				<span class="count">{{ .Days }}</span>
				<span>{{ Plural .Days "day" "days" }}</span>
			</p>
			<p class="bot">since the last<br>mass shooting</p>
		</div>
		<div class="down-arrow" aria-description="Scroll down for more information.">
			<span class="material-icons">expand_more</span>
		</div>
	</section>
	<section id="statistics">
		<h2>Statistics</h2>
		<div>
			<p>
				<span class="count">{{ len .Records }}</span>
				{{ Plural (len .Records) "Shooting" "Shootings" }}
			</p>
			<p>
				<span class="count">{{ .TotalKilled }}</span>
				Dead
			</p>
			<p>
				<span class="count">{{ .TotalInjured }}</span>
				Injured
			</p>
		</div>
	</section>
	<section id="shootings-today">
		<h2>Mass Shootings Today</h2>
		{{ if .Records }}
		<ul>
			{{ range .Records }}
			<li>
				<a href="{{ .IncidentURL }}">
					<h4>{{ .CityCounty }}, {{ .State }}</h4>
					<p>
						{{ .NoKilled }} dead, {{ .NoInjured }} injured,
						at {{ .Address }}, {{ .CityCounty }}, {{ .State }}.
					</p>
				</a>
			</li>
			{{ end }}
		</ul>
		{{ else }}
		<p class="empty">No mass shootings today.</p>
		{{ end }}
	</section>
</main>

<footer>
	<p><a href="https://github.com/diamondburned/mass-shootings-count">Source Code</a></p>
	<p>
		{{ if .Refresh }}
		<a href="?refresh=">Stop</a>
		{{ else }}
		<a href="?refresh=60">Auto-refresh</a>
		{{ end }}
	</p>
	<p>
		<span>Taken from the <a href="https://www.gunviolencearchive.org/reports/mass-shooting">Gun Violence Archive</a>.</span>
		<span>Last updated <time datetime="{{ .LastUpdated.Format "2006-01-02T15:04:05.999-07:00" }}">{{ .LastUpdated.Format "January 2, 2006 at 03:04 PM" }}</time>.</span>
	</p>
</footer>
